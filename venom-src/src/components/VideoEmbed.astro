---
import Card from './Card.astro';

interface Props {
  src: string;
  title: string;
  heading?: string;
  class?: string;
}
const { src, title, heading, class: className } = Astro.props;
---

<Card class:list={['video-card', className]}>
  {heading && <h3 class="video-heading">{heading}</h3>}
  <div class="video-wrapper">
    <iframe
      src={src}
      title={title}
      loading="lazy"
      referrerpolicy="strict-origin-when-cross-origin"
      allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      allowfullscreen
    ></iframe>
  </div>
</Card>

<style>
  .video-card {
    padding: var(--space-lg);
  }

  .video-heading {
    font-family: var(--font-display);
    font-size: clamp(18px, 2.5vw, 24px);
    font-weight: 600;
    text-align: center;
    margin-bottom: var(--space-lg);
    color: var(--color-text);
  }

  .video-wrapper {
    position: relative;
    width: 100%;
    padding-top: 56.25%; /* 16:9 aspect ratio */
    border-radius: var(--radius-md);
    overflow: hidden;
    border: 1px solid var(--color-border);
  }

  .video-wrapper iframe {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    border: none;
  }
</style>
